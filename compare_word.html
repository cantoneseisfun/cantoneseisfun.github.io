<!DOCTYPE html><html lang="zh-CN"><head><meta name="x-poe-datastore-behavior" content="local_only"><meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' data: blob: https://cdnjs.cloudflare.com https://cdn.jsdelivr.net https://code.jquery.com https://unpkg.com https://d3js.org https://threejs.org https://cdn.plot.ly https://stackpath.bootstrapcdn.com https://maps.googleapis.com https://cdn.tailwindcss.com https://ajax.googleapis.com https://kit.fontawesome.com https://cdn.datatables.net https://maxcdn.bootstrapcdn.com https://code.highcharts.com https://tako-static-assets-production.s3.amazonaws.com https://www.youtube.com https://fonts.googleapis.com https://fonts.gstatic.com https://pfst.cf2.poecdn.net https://puc.poecdn.net https://i.imgur.com https://wikimedia.org https://*.icons8.com https://*.giphy.com https://picsum.photos https://images.unsplash.com; frame-src 'self' https://www.youtube.com https://trytako.com; child-src 'self'; manifest-src 'self'; worker-src 'self'; upgrade-insecure-requests; block-all-mixed-content;">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¸¸ç”¨å£è¯­ vs ä¹¦é¢è¯­ç”¨å­—</title>
    <style>
        :root {
            --primary: #00b894; /* å®éªŒå®¤ç»¿ */
            --primary-dark: #00a884;
            --secondary: #0984e3; /* ç§‘æŠ€è“ */
            --accent: #fdcb6e; /* å¼ºè°ƒé»„ */
            --text-main: #2d3436;
            --text-light: #636e72;
            --bg-color: #f5f6fa;
            --card-bg: #ffffff;
            --sidebar-width: 260px;
        }

        body {
            font-family: "PingFang SC", "Microsoft YaHei", "Helvetica Neue", sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            height: 100vh;
            overflow: hidden;
        }

        /* é¡¶éƒ¨æ ‡é¢˜æ  */
        header {
            /* background: linear-gradient(135deg, var(--text-main), #000); */
            background: linear-gradient(135deg, #14b8a6, #0ea5e9);
            color: white;
            padding: 0 2rem;
            height: auto;
            min-height: 60px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            z-index: 100;
        }

        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 60px;
            width: 100%;
        }

        header h1 {
            margin: 0;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 600;
            letter-spacing: 1px;
        }

        .badge {
            font-size: 0.7rem;
            background: var(--primary);
            padding: 3px 8px;
            border-radius: 12px;
            font-weight: normal;
            text-transform: uppercase;
        }

        .intro-text {
            font-size: 0.85rem;
            opacity: 0.9;
            padding-bottom: 10px;
            font-weight: 300;
            /* color: #dfe6e9; */
            color: white;
        }

        /* ä¸»å¸ƒå±€ */
        .layout {
            display: flex;
            flex: 1;
            overflow: hidden;
        }

        /* ä¾§è¾¹å¯¼èˆª */
        aside {
            width: var(--sidebar-width);
            background: white;
            border-right: 1px solid #e1e1e1;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
        }

        .nav-header {
            padding: 15px 20px;
            font-size: 0.85rem;
            color: var(--text-light);
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
            background: #fafafa;
        }

        .category-btn {
            padding: 16px 20px;
            border: none;
            background: none;
            text-align: left;
            cursor: pointer;
            font-size: 0.95rem;
            color: var(--text-main);
            border-left: 4px solid transparent;
            transition: all 0.2s;
            border-bottom: 1px solid #f0f0f0;
        }

        .category-btn:hover {
            background-color: #f8f9fa;
            color: var(--primary);
        }

        .category-btn.active {
            background-color: #e3fcf7;
            border-left-color: var(--primary);
            font-weight: bold;
            color: var(--primary-dark);
        }

        /* å†…å®¹åŒºåŸŸ */
        main {
            flex: 1;
            padding: 20px 30px;
            overflow-y: auto;
            position: relative;
        }

        /* æœç´¢æ¡† */
        .search-container {
            position: sticky;
            top: 0;
            background: var(--bg-color);
            padding-bottom: 20px;
            z-index: 10;
        }

        .search-input {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid #dfe6e9;
            border-radius: 10px;
            font-size: 1rem;
            outline: none;
            transition: border-color 0.3s, box-shadow 0.3s;
            box-sizing: border-box;
        }

        .search-input:focus {
            border-color: var(--secondary);
            box-shadow: 0 4px 12px rgba(9, 132, 227, 0.1);
        }

        /* å¡ç‰‡ç½‘æ ¼ */
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            padding-bottom: 40px;
        }

        /* å•è¯å¡ç‰‡ */
        .card {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.02);
            border: 1px solid #eee;
            transition: transform 0.2s, box-shadow 0.2s, border-color 0.2s;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 20px rgba(0,0,0,0.08);
            border-color: var(--primary);
        }

        .card:active {
            transform: scale(0.98);
        }

        /* å¤§ Emoji æ ·å¼ */
        .card-emoji {
            font-size: 3.5rem;
            text-align: center;
            margin-bottom: 10px;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-6px); }
            100% { transform: translateY(0px); }
        }

        /* å¡ç‰‡å†…å®¹æ’ç‰ˆ */
        .card-top {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 8px;
        }

        .spoken-word {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--text-main);
            line-height: 1.2;
        }

        .jyutping-tag {
            font-family: 'Courier New', monospace;
            background: #f1f2f6;
            color: var(--text-light);
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 1.0rem;
            font-weight: 600;
        }

        .written-label {
            font-size: 0.75rem;
            color: #b2bec3;
            margin-bottom: 2px;
        }

        .written-word {
            font-size: 1.1rem;
            color: var(--secondary);
            margin-bottom: 15px;
            font-weight: 500;
        }

        .example-box {
            background: #fffbf0;
            border-left: 3px solid var(--accent);
            padding: 10px;
            font-size: 0.9rem;
            color: #636e72;
            line-height: 1.5;
            border-radius: 0 4px 4px 0;
            flex-grow: 1;
        }

        /* æ’­æ”¾å›¾æ ‡ */
        .play-icon {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 32px;
            height: 32px;
            background: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            opacity: 0;
            transform: scale(0.8);
            transition: all 0.2s;
            z-index: 2;
        }

        .card:hover .play-icon {
            opacity: 1;
            transform: scale(1);
        }

        /* æ’­æ”¾åŠ¨ç”» */
        @keyframes pulse-green {
            0% { box-shadow: 0 0 0 0 rgba(0, 184, 148, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(0, 184, 148, 0); }
            100% { box-shadow: 0 0 0 0 rgba(0, 184, 148, 0); }
        }

        .playing {
            animation: pulse-green 1s infinite;
            border-color: var(--primary) !important;
        }

        /* ç§»åŠ¨ç«¯é€‚é… */
        @media (max-width: 768px) {
            .layout {
                flex-direction: column;
            }
            aside {
                width: 100%;
                height: 60px;
                flex-direction: row;
                overflow-x: auto;
                border-bottom: 1px solid #e1e1e1;
                border-right: none;
                flex-shrink: 0;
            }
            .nav-header { display: none; }
            .category-btn {
                white-space: nowrap;
                border-left: none;
                border-bottom: 3px solid transparent;
                padding: 0 20px;
                display: flex;
                align-items: center;
            }
            .category-btn.active {
                background: none;
                border-bottom-color: var(--primary);
                border-left-color: transparent;
            }
            main {
                padding: 15px;
            }
            .grid {
                grid-template-columns: 1fr;
            }
            .intro-text {
                display: none; /* ç§»åŠ¨ç«¯éšè—å‰¯æ ‡é¢˜ä»¥èŠ‚çœç©ºé—´ */
            }
        }
    </style>
</head>
<body>

<header>
    <div class="header-top">
        <h1>å¸¸ç”¨å£è¯­ vs ä¹¦é¢è¯­ç”¨å­—</h1>
        <div style="font-size: 0.8rem; opacity: 0.8; display: none; display: md-block;">ç‚¹å‡»å¡ç‰‡è†å¬å‘éŸ³</div>
    </div>
    <div class="intro-text">
        ç‚¹å‡»å¡ç‰‡ï¼Œå¬å¬è¿™äº›æœ‰è¶£çš„å£°éŸ³ï¼ŒæŠŠå®ƒä»¬å½“ä½œéŸ³ä¹æ¥æ¬£èµå§ï¼
    </div>
</header>

<div class="layout">
    <aside id="sidebar">
        <div class="nav-header">åˆ†ç±»ç›®å½•</div>
        <!-- ç±»åˆ«æŒ‰é’®å°†é€šè¿‡ JS æ’å…¥ -->
    </aside>

    <main>
        <!-- 
        <div class="search-container">
            <input type="text" id="search-input" class="search-input" placeholder="ğŸ” æœç´¢ä¹¦é¢è¯­ã€ç²¤è¯­æˆ–æ‹¼éŸ³...">
        </div>
        -->
        <div id="grid" class="grid">
            <!-- å¡ç‰‡å°†é€šè¿‡ JS æ’å…¥ -->
        </div>
    </main>
</div>

<script>
    // æ•°æ®æºï¼šæ•´åˆäº† compare_fun1.docx å’Œ fun1.html çš„å†…å®¹
    const database = [
        {
            category: "å…¥é—¨",
            items: [
                { emoji: "ğŸ™", written: "è°¢è°¢ / éº»çƒ¦äº†", spoken: "å””è¯¥", jyutping: "m4 goi1", example: "è¿™æ˜¯æœ€ä¸‡èƒ½çš„è¯ï¼ä¹°ä¸œè¥¿ã€å€Ÿè¿‡ã€æ±‚åŠ©éƒ½èƒ½ç”¨ã€‚å‘éŸ³åƒå˜´å·´é—­ç€å“¼å‡ºæ¥çš„å£°éŸ³ã€‚" },
                { emoji: "ğŸ‘Œ", written: "å®Œæˆäº† / è§£å†³äº†", spoken: "ææ‚", jyutping: "gaau2 dim6", example: "å¬èµ·æ¥å¾ˆæœ‰åŠ›æ°”ï¼å½“ä½ å®Œæˆä¸€ä»¶å°äº‹ï¼Œå¤§å£°è¯´ã€Œææ‚ï¼ã€ï¼Œå¿ƒæƒ…ä¼šå˜å¥½ã€‚" },
                { emoji: "ğŸ¤”", written: "çŠ¹è±«ä¸å†³", spoken: "å¿ƒå¤§å¿ƒç»†", jyutping: "sam1 daai6 sam1 sai3", example: "ä¸€ä¼šå„¿å¿ƒå¤§ï¼Œä¸€ä¼šå„¿å¿ƒå°ã€‚å½¢å®¹æ‹¿ä¸å®šä¸»æ„çš„æ ·å­ï¼Œæ˜¯ä¸æ˜¯å¾ˆå½¢è±¡ï¼Ÿ" },
                { emoji: "ğŸ¢", written: "æ…¢æ…¢æ¥ / åˆ«æ€¥", spoken: "æ…¢æ…¢åšŸ", jyutping: "maan6 maan6 lai4", example: "è¿™æ˜¯ç»™æ‰€æœ‰å­¦ä¹ è€…çš„å’’è¯­ã€‚å½“ä½ è§‰å¾—ç„¦è™‘æ—¶ï¼Œå¯¹è‡ªå·±è¯´è¿™ä¸‰ä¸ªå­—ã€‚" },
                { emoji: "ğŸ¥°", written: "å¯çˆ± / æœ‰è¶£", spoken: "å¾—æ„", jyutping: "dak1 ji3", example: "åœ¨ç²¤è¯­é‡Œï¼Œã€Œå¾—æ„ã€ä¸åªæ˜¯éª„å‚²ï¼Œæ›´å¤šæ—¶å€™æ˜¯ç”¨æ¥ç§°èµå°åŠ¨ç‰©æˆ–å°æœ‹å‹å¾ˆå¯çˆ±ã€‚" },
                { emoji: "ğŸ¤·", written: "éšä¾¿ / éƒ½å¯ä»¥", spoken: "æ˜¯ä½†", jyutping: "si6 daan6", example: "æœ€ä½›ç³»çš„è¯æ±‡ã€‚ä¸æƒ³åšå†³å®šçš„æ—¶å€™ï¼Œè¿™æ˜¯æœ€å¥½çš„æŒ¡ç®­ç‰Œã€‚" }
            ]
        },
        {
            category: "äººåœ°æ™‚",
            items: [
                { written: "ä»– / å¥¹ / å®ƒ", spoken: "ä½¢", jyutping: "keoi5", example: "æˆ‘å””è¯†ä½¢ (æˆ‘ä¸è®¤è¯†ä»–)" },
                { written: "æˆ‘ä»¬", spoken: "æˆ‘å“‹", jyutping: "ngo5 dei6", example: "æˆ‘å“‹å»é£Ÿé¥­ (æˆ‘ä»¬å»åƒé¥­)" },
                { written: "ä½ ä»¬", spoken: "ä½ å“‹", jyutping: "nei5 dei6", example: "ä½ å“‹å‡ ç‚¹åˆ°ï¼Ÿ (ä½ ä»¬å‡ ç‚¹åˆ°ï¼Ÿ)" },
                { written: "ä»–ä»¬", spoken: "ä½¢å“‹", jyutping: "keoi5 dei6", example: "ä½¢å“‹ç³»è¾¹ä¸ªï¼Ÿ (ä»–ä»¬æ˜¯è°ï¼Ÿ)" },
                { written: "è°", spoken: "è¾¹ä¸ª", jyutping: "bin1 go3", example: "è¾¹ä¸ªæµæˆ‘ï¼Ÿ (è°æ‰¾æˆ‘ï¼Ÿ)" },
                { written: "å“ªé‡Œ", spoken: "è¾¹åº¦", jyutping: "bin1 dou6", example: "ä½ å»è¾¹åº¦ï¼Ÿ (ä½ å»å“ªé‡Œï¼Ÿ)" },
                { written: "è¿™é‡Œ", spoken: "å‘¢åº¦", jyutping: "ni1 dou6", example: "å‘¢åº¦æœ‰äººå (è¿™é‡Œæœ‰äººå)" },
                { written: "é‚£é‡Œ", spoken: "å—°åº¦", jyutping: "go2 dou6", example: "å—°åº¦æœ‰é—´è¶…å¸‚ (é‚£é‡Œæœ‰å®¶è¶…å¸‚)" },
                { written: "ç°åœ¨", spoken: "è€Œå®¶", jyutping: "ji4 gaa1", example: "è€Œå®¶å‡ ç‚¹ï¼Ÿ (ç°åœ¨å‡ ç‚¹ï¼Ÿ)" },
                { written: "ä»Šå¤©", spoken: "ä»Šæ—¥", jyutping: "gam1 jat6", example: "ä»Šæ—¥å¤©æ°”å¥½å¥½ (ä»Šå¤©å¤©æ°”å¾ˆå¥½)" },
                { written: "æ˜å¤©", spoken: "å¬æ—¥", jyutping: "ting1 jat6", example: "å¬æ—¥è§ (æ˜å¤©è§)" },
                { written: "æ˜¨å¤©", spoken: "å¯»æ—¥", jyutping: "cam4 jat6", example: "å¯»æ—¥æˆ‘å»å’—ç‡æˆ (æ˜¨å¤©æˆ‘å»äº†çœ‹ç”µå½±)" }
            ]
        },
        {
            category: "åŠ¨è¯",
            items: [
                { written: "æ˜¯", spoken: "ç³»", jyutping: "hai6", example: "ä½¢ç³»æˆ‘æœ‹å‹ (ä»–æ˜¯æˆ‘çš„æœ‹å‹)" },
                { written: "åœ¨", spoken: "å–º", jyutping: "hai2", example: "æˆ‘å–ºå±‹ä¼ (æˆ‘åœ¨å®¶é‡Œ)" },
                { written: "çœ‹", spoken: "ç‡", jyutping: "tai2", example: "ç‡ç”µè§† (çœ‹ç”µè§†)" },
                { written: "åƒ", spoken: "é£Ÿ", jyutping: "sik6", example: "é£Ÿé¥­æœªï¼Ÿ (åƒé¥­äº†å—ï¼Ÿ)" },
                { written: "å–", spoken: "é¥®", jyutping: "jam2", example: "é¥®æ°´ (å–æ°´)" },
                { written: "è¯´ / è®²", spoken: "è®²", jyutping: "gong2", example: "å””å¥½è®²å¤§è¯ (ä¸è¦è¯´è°)" },
                { written: "ç¡è§‰", spoken: "ç“è§‰", jyutping: "fan3 gaau3", example: "æˆ‘è¦å»ç“è§‰å–‡ (æˆ‘è¦å»ç¡è§‰äº†)" },
                { written: "èµ° / ç¦»å¼€", spoken: "è¡Œ / èµ°", jyutping: "haang4 / zau2", example: "æˆ‘è¡Œå…ˆå–‡ (æˆ‘å…ˆèµ°äº†)" },
                { written: "ç»™", spoken: "ä¿¾", jyutping: "bei2", example: "ä¿¾æ”¯ç¬”æˆ‘ (ç»™æˆ‘ä¸€æ”¯ç¬”)" },
                { written: "æ‰¾", spoken: "æµ", jyutping: "wan2", example: "æˆ‘æµç´§é”åŒ™ (æˆ‘æ­£åœ¨æ‰¾é’¥åŒ™)" },
                { written: "æ‹¿", spoken: "æ”", jyutping: "lo2", example: "å¸®æˆ‘æ”æ¯æ°´ (å¸®æˆ‘æ‹¿æ¯æ°´)" },
                { written: "æƒ³", spoken: "è°‚ / æƒ³", jyutping: "nam2 / soeng2", example: "æˆ‘è°‚ç´§åŠæ³• (æˆ‘æ­£åœ¨æƒ³åŠæ³•)" },
                { written: "ä¸‹è½¦", spoken: "è½è½¦", jyutping: "lok6 ce1", example: "å‰é¢è½è½¦ (å‰é¢ä¸‹è½¦)" }
            ]
        },
        {
            category: "çŠ¶æ€",
            items: [
                { written: "æ¼‚äº®", spoken: "é“", jyutping: "leng3", example: "ä½¢å¥½é“å¥³ (å¥¹å¾ˆæ¼‚äº®)" },
                { written: "ç´¯", spoken: "æ”°", jyutping: "gui6", example: "æˆ‘å¥½æ”° (æˆ‘å¾ˆç´¯)" },
                { written: "ç”Ÿæ°”", spoken: "å¬²", jyutping: "nau1", example: "å””å¥½å¬²å•¦ (åˆ«ç”Ÿæ°”å•¦)" },
                { written: "å®³æ€•", spoken: "æƒŠ", jyutping: "geng1", example: "æˆ‘å¥½æƒŠè€é¼  (æˆ‘å¾ˆæ€•è€é¼ )" },
                { written: "ç–¯", spoken: "ç™«", jyutping: "din1", example: "ä½ ç³»å’ªç™«ã—ï¼Ÿ (ä½ æ˜¯ä¸æ˜¯ç–¯äº†ï¼Ÿ)" },
                { written: "å‚»", spoken: "æˆ†å±… / å‚»", jyutping: "ong6 geoi1 / so4", example: "åšäººå””å¥½å’æˆ†å±… (åšäººä¸è¦è¿™ä¹ˆå‚»)" },
                { written: "å‰å®³", spoken: "åŠ² / çŠ€åˆ©", jyutping: "ging6 / sai1 lei6", example: "ä½ å¥½åŠ²å•Šï¼ (ä½ å¾ˆå‰å®³å•Šï¼)" },
                { written: "ä¾¿å®œ", spoken: "å¹³", jyutping: "peng4", example: "å•²å˜¢å¥½å¹³ (ä¸œè¥¿å¾ˆä¾¿å®œ)" },
                { written: "å†·", spoken: "å†»", jyutping: "dung3", example: "ä»Šæ—¥å¥½å†» (ä»Šå¤©å¾ˆå†·)" },
                { written: "ä¸€èµ·", spoken: "ä¸€é½", jyutping: "jat1 cai4", example: "ä¸€é½é£Ÿé¥­ (ä¸€èµ·é£Ÿé¥­)" }
            ]
        },
        {
            category: "è¿æ¥è¯",
            items: [
                { written: "çš„", spoken: "å˜…", jyutping: "ge3", example: "æˆ‘å˜…ä¹¦ (æˆ‘çš„ä¹¦)" },
                { written: "ä¸", spoken: "å””", jyutping: "m4", example: "å””å¥½ (ä¸å¥½/ä¸è¦)" },
                { written: "æ²¡æœ‰", spoken: "å†‡", jyutping: "mou5", example: "æˆ‘å†‡é’± (æˆ‘æ²¡æœ‰é’±)" },
                { written: "äº†", spoken: "å’—", jyutping: "zo2", example: "é£Ÿå’—é¥­ (åƒäº†é¥­)" },
                { written: "æ­£åœ¨", spoken: "ç´§", jyutping: "gan2", example: "é£Ÿç´§é¥­ (æ­£åœ¨åƒé¥­)" },
                { written: "ä¸ºä»€ä¹ˆ", spoken: "ç‚¹è§£", jyutping: "dim2 gaai2", example: "ç‚¹è§£ä½ ä¼šçŸ¥ï¼Ÿ (ä¸ºä»€ä¹ˆä½ ä¼šçŸ¥é“ï¼Ÿ)" },
                { written: "ä»€ä¹ˆ", spoken: "å’© / ä¹œå˜¢", jyutping: "me1 / mat1 je5", example: "ä½ é£Ÿå’©ï¼Ÿ (ä½ åƒä»€ä¹ˆï¼Ÿ)" },
                { written: "æ€ä¹ˆ", spoken: "ç‚¹", jyutping: "dim2", example: "ç‚¹åšå•Šï¼Ÿ (æ€ä¹ˆåšå•Šï¼Ÿ)" }
            ]
        },
        {
            category: "è¯­æ°”",
            items: [
                { written: "å—ï¼ŸçœŸçš„å—ï¼Ÿ", spoken: "å’©", jyutping: "me1", example: "ä½ è¯†ä½¢å’©ï¼Ÿ (ä½ è®¤è¯†ä»–å—ï¼Ÿæš—ç¤ºæˆ‘ä¸ä¿¡ä½ è®¤è¯†)" },
                { written: "å•Šï¼Ÿ", spoken: "å‘€", jyutping: "aa3", example: "è¾¹ä¸ªåšŸå‘€ï¼Ÿ (æ˜¯è°æ¥å•Šï¼Ÿçº¯ç²¹æƒ³çŸ¥é“)" },
                { written: "å‘¢ï¼Ÿ", spoken: "å‘¢", jyutping: "ne1", example: "æˆ‘æœ¬ä¹¦å‘¢ï¼Ÿ (æˆ‘çš„ä¹¦å‘¢ï¼Ÿ)" },
                { written: "æ€ä¹ˆ...çš„ï¼Ÿ", spoken: "å˜…", jyutping: "ge2", example: "ç‚¹è§£ä¼šå’å˜…ï¼Ÿ (ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿè§‰å¾—ä¸åˆç†)" },
                { written: "çš„ã€æ˜¯...çš„", spoken: "ã—", jyutping: "gaa3", example: "ä½¢ç³»è€å¸ˆåšŸã—ã€‚ (ä»–æ˜¯è€å¸ˆæ¥çš„ã€‚å¼ºè°ƒä»–çš„èº«ä»½)" },
                { written: "å˜›ã€å‘—", spoken: "å•°", jyutping: "lo1", example: "è½é›¨å’ªå¸¦é®å•°ã€‚ (ä¸‹é›¨å°±å¸¦ä¼å•Šã€‚è¿™è¿˜ç”¨é—®å—ï¼Ÿ)" },
                { written: "äº†", spoken: "å–‡", jyutping: "laa1", example: "æˆ‘é£Ÿé¥±å–‡ã€‚ (æˆ‘åƒé¥±äº†ã€‚)" },
                { written: "ç½¢äº†", spoken: "ç½¢", jyutping: "baa6", example: "ç®—æ•°ç½¢å•¦ã€‚ (ç®—äº†å§ã€‚æ”¾å¼ƒäº‰è¾©)" },
                { written: "å§", spoken: "å•¦", jyutping: "laa1", example: "ä½ å¿«å•²å•¦ï¼ (ä½ å¿«ä¸€ç‚¹å§ï¼)" },
                { written: "ä¸€ä¸‹", spoken: "ä¸‹", jyutping: "haa5", example: "å¸®æˆ‘ç‡ä¸‹ã€‚ (å¸®æˆ‘çœ‹ä¸€ä¸‹ã€‚è¯­æ°”è¾ƒéšæ„)" },
                { written: "å§ (æ¸©å’Œ)", spoken: "ä¸«", jyutping: "aa1", example: "ä¸å¦‚å»ç‡æˆä¸«ï¼Ÿ (ä¸å¦‚å»çœ‹ç”µå½±å§ï¼Ÿå¾æ±‚æ„è§)" },
                { written: "å–”ï¼ç«Ÿç„¶...", spoken: "å–", jyutping: "wo3", example: "åŸæ¥ç³»ä½ å–ï¼ (åŸæ¥æ˜¯ä½ å–”ï¼æ²¡æƒ³åˆ°)" },
                { written: "è€Œå·²ã€ç½¢äº†", spoken: "å•«", jyutping: "ze1", example: "åèšŠå•«ï¼Œå¥½å¹³ã€‚ (åå—é’±è€Œå·²ï¼Œå¾ˆä¾¿å®œã€‚)" },
                { written: "è€Œå·²", spoken: "ä¹‹å˜›", jyutping: "zi1 maa3", example: "è®²ç¬‘ä¹‹å˜›ã€‚ (å¼€ç©ç¬‘è€Œå·²ã€‚åˆ«è®¤çœŸ)" },
                { written: "æ¯å½“", spoken: "äº²", jyutping: "can1", example: "ä½¢é£Ÿäº²æµ·é²œéƒ½æ•æ„Ÿã€‚ (ä»–æ¯æ¬¡åƒæµ·é²œéƒ½è¿‡æ•ã€‚)" }
            ]
        }
    ];

    let currentCategoryIndex = 0;
    const sidebar = document.getElementById('sidebar');
    const grid = document.getElementById('grid');
    const searchInput = document.getElementById('search-input');

    // åˆå§‹åŒ–
    function init() {
        renderSidebar();
        renderGrid(0);

        // æœç´¢ç›‘å¬
        searchInput.addEventListener('input', (e) => {
            const term = e.target.value.toLowerCase().trim();
            if (term.length > 0) {
                // æœç´¢æ¨¡å¼
                const allItems = database.flatMap(cat => cat.items.map(item => ({...item, categoryName: cat.category})));
                const results = allItems.filter(item => 
                    item.written.toLowerCase().includes(term) || 
                    item.spoken.toLowerCase().includes(term) || 
                    item.jyutping.toLowerCase().includes(term)
                );
                renderSearchResults(results);
                // ç§»é™¤ä¾§è¾¹æ æ¿€æ´»çŠ¶æ€
                document.querySelectorAll('.category-btn').forEach(btn => btn.classList.remove('active'));
            } else {
                // æ¢å¤åˆ†ç±»æ¨¡å¼
                renderGrid(currentCategoryIndex);
                const btns = document.querySelectorAll('.category-btn');
                if(btns[currentCategoryIndex]) btns[currentCategoryIndex].classList.add('active');
            }
        });
    }

    // æ¸²æŸ“ä¾§è¾¹æ 
    function renderSidebar() {
        // ä¿ç•™ header
        const header = sidebar.querySelector('.nav-header');
        sidebar.innerHTML = '';
        if(header) sidebar.appendChild(header);

        database.forEach((cat, index) => {
            const btn = document.createElement('button');
            btn.className = `category-btn ${index === 0 ? 'active' : ''}`;
            btn.textContent = cat.category;
            btn.onclick = () => {
                currentCategoryIndex = index;
                renderGrid(index);
                searchInput.value = ''; // æ¸…ç©ºæœç´¢
                
                // æ›´æ–°æ¿€æ´»çŠ¶æ€
                document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
            };
            sidebar.appendChild(btn);
        });
    }

    // æ¸²æŸ“ç½‘æ ¼ (æŒ‰åˆ†ç±»)
    function renderGrid(index) {
        grid.innerHTML = '';
        const items = database[index].items;
        items.forEach(item => createCard(item));
    }

    // æ¸²æŸ“æœç´¢ç»“æœ
    function renderSearchResults(items) {
        grid.innerHTML = '';
        if (items.length === 0) {
            grid.innerHTML = '<div style="grid-column: 1/-1; text-align: center; color: #999; padding: 40px;">æ‰¾ä¸åˆ°ç›¸å…³è¯æ±‡ ğŸ§ª</div>';
            return;
        }
        items.forEach(item => createCard(item, true));
    }

    // åˆ›å»ºå¡ç‰‡å…ƒç´ 
    function createCard(item, showCategory = false) {
        const card = document.createElement('div');
        card.className = 'card';
        
        // å¤„ç† TTS æ–‡æœ¬ (å¦‚æœæœ‰æ–œæ ï¼Œåªè¯»ç¬¬ä¸€ä¸ª)
        const ttsText = item.spoken.split('/')[0].trim();

        card.onclick = () => {
            speak(ttsText);
            card.classList.add('playing');
            setTimeout(() => card.classList.remove('playing'), 1000);
        };

        const categoryTag = showCategory ? `<div style="font-size:0.7rem; color:#aaa; margin-bottom:5px;">${item.categoryName}</div>` : '';
        
        // æ¸²æŸ“å¤§ Emoji
        const emojiHtml = item.emoji ? `<div class="card-emoji">${item.emoji}</div>` : '';

        card.innerHTML = `
            <div class="play-icon">ğŸ”Š</div>
            ${categoryTag}
            ${emojiHtml}
            <div class="card-top">
                <div class="spoken-word">${item.spoken}</div>
                <div class="jyutping-tag">${item.jyutping}</div>
            </div>
            <div class="written-word">${item.written}</div>
            <div class="example-box">
                ${item.example}
            </div>
        `;
        grid.appendChild(card);
    }

    // è¯­éŸ³åˆæˆ (TTS)
    function speak(text) {
        if ('speechSynthesis' in window) {
            window.speechSynthesis.cancel(); // åœæ­¢å½“å‰æ’­æ”¾
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'zh-HK'; // å…³é”®ï¼šè®¾ç½®ä¸ºç²¤è¯­ (é¦™æ¸¯)
            utterance.rate = 0.9; // ç¨å¾®æ”¾æ…¢è¯­é€Ÿ
            
            // å°è¯•å¯»æ‰¾æœ€ä½³çš„ç²¤è¯­è¯­éŸ³åŒ…
            const voices = window.speechSynthesis.getVoices();
            // ä¼˜å…ˆæ‰¾åŒ…å« HK æˆ– Cantonese çš„è¯­éŸ³
            const hkVoice = voices.find(v => v.lang === 'zh-HK' || v.name.includes('Cantonese') || v.name.includes('Hong Kong'));
            if (hkVoice) utterance.voice = hkVoice;

            window.speechSynthesis.speak(utterance);
        } else {
            alert("æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè¯­éŸ³åˆæˆåŠŸèƒ½ã€‚");
        }
    }

    // è§£å†³ Chrome è¯­éŸ³åŠ è½½å¼‚æ­¥é—®é¢˜
    window.speechSynthesis.onvoiceschanged = () => {};

    // å¯åŠ¨
    init();
</script>



</body></html>